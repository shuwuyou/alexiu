{
  "type": "object",
  "properties": {
    "player_info": {
      "type": "object",
      "properties": {
        "id": {"type": "string"},
        "name": {"type": "string"},
        "position": {"type": "string"},
        "age": {"type": "integer"},
        "club": {"type": "string"}
      },
      "required": ["id", "name", "position", "age", "club"],
      "additionalProperties": false
    },
    "report": {
      "type": "object",
      "properties": {
        "executive_summary": {
          "type": "string",
          "description": "Brief overview combining analysis and news insights"
        },
        "player_development": {
          "type": "string",
          "description": "Comprehensive narrative on aging, trajectory, and performance vs expectation"
        },
        "breakout_analysis": {
          "type": "string",
          "description": "Detailed assessment of breakout potential and future value"
        },
        "valuation_insights": {
          "type": "string",
          "description": "Complete market value analysis and transfer fee insights"
        },
        "transfer_fee_analysis": {
          "type": "string",
          "description": "Analysis of transfer fee drivers using SHAP values and MLR coefficients. Identifies which factors are most important for determining transfer fees (the actual prices paid), explaining the impact of key features like age, contract, performance metrics, and club characteristics (2-3 sentences)"
        },
        "key_statistics": {
          "type": "object",
          "properties": {
            "current_market_value": {"type": "string"},
            "peak_market_value": {"type": "string"},
            "career_goals": {"type": "integer"},
            "career_assists": {"type": "integer"},
            "recent_form": {"type": "string"}
          },
          "required": ["current_market_value", "peak_market_value", "career_goals", "career_assists", "recent_form"],
          "additionalProperties": false
        },
        "strengths": {
          "type": "array",
          "items": {"type": "string"},
          "minItems": 1
        },
        "weaknesses": {
          "type": "array",
          "items": {"type": "string"},
          "minItems": 1
        },
        "recommendation": {
          "type": "string",
          "description": "Overall recommendation integrating all insights"
        },
        "news_context": {
          "type": "string",
          "description": "Summary of relevant news and how it impacts the analysis"
        }
      },
      "required": [
        "executive_summary",
        "player_development",
        "breakout_analysis",
        "valuation_insights",
        "transfer_fee_analysis",
        "key_statistics",
        "strengths",
        "weaknesses",
        "recommendation",
        "news_context"
      ],
      "additionalProperties": false
    },
    "news": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {"type": "string"},
          "summary": {"type": "string"}
        },
        "required": ["title", "summary"],
        "additionalProperties": false
      }
    },
    "generated_at": {
      "type": "string",
      "description": "ISO 8601 timestamp of report generation"
    }
  },
  "required": [
    "player_info",
    "report",
    "news",
    "generated_at"
  ],
  "additionalProperties": false
}
